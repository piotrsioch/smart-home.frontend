{"openapi":"3.0.0","paths":{"/dht-sensor/add-data":{"post":{"operationId":"DhtSensorController_addDhtSensorData","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddDhtSensorDataInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddDhtSensorDataInputDto"}}}}},"tags":["Dht sensor"]}},"/dht-sensor/list":{"get":{"operationId":"DhtSensorController_dhtSensorList","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"orderField","required":false,"in":"query","schema":{"enum":["temperature","humidity","sensorId","createdAt"],"type":"string"}},{"name":"orderDirection","required":false,"in":"query","schema":{"enum":["ASC","DESC"],"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationOutput"},{"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/DhtSensorDto"}}}}]}}}}},"tags":["Dht sensor"]}},"/dht-sensor/latest-data":{"get":{"operationId":"DhtSensorController_getLatestData","parameters":[{"name":"sensorId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DhtSensorDto"}}}}},"tags":["Dht sensor"]}},"/sensors/create":{"post":{"operationId":"SensorController_createSensor","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSensorInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorDto"}}}}},"tags":["Sensors"]}},"/sensors/list":{"get":{"operationId":"SensorController_sensorList","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"orderField","required":false,"in":"query","schema":{"enum":["sensorId","createdAt","isOpened"],"type":"string"}},{"name":"orderDirection","required":false,"in":"query","schema":{"enum":["ASC","DESC"],"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationOutput"},{"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/SensorDto"}}}}]}}}}},"tags":["Sensors"]}},"/sensors/get-by-id":{"get":{"operationId":"SensorController_getById","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetSensorByIdInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorDto"}}}}},"tags":["Sensors"]}},"/pir-sensor/add-data":{"post":{"operationId":"PirSensorController_addPirSensorData","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddPirSensorDataInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PirSensorDto"}}}}},"tags":["Pir sensor"]}},"/pir-sensor/list":{"get":{"operationId":"PirSensorController_pirSensorList","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"orderField","required":false,"in":"query","schema":{"enum":["sensorId","createdAt"],"type":"string"}},{"name":"orderDirection","required":false,"in":"query","schema":{"enum":["ASC","DESC"],"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationOutput"},{"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/PirSensorDto"}}}}]}}}}},"tags":["Pir sensor"]}},"/smoke-sensor/add-data":{"post":{"operationId":"SmokeSensorController_addSmokeSensorData","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddSmokeSensorDataInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmokeSensorDto"}}}}},"tags":["Smoke sensor"]}},"/smoke-sensor/list":{"get":{"operationId":"SmokeSensorController_dhtSensorList","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"orderField","required":false,"in":"query","schema":{"enum":["value","sensorId","createdAt"],"type":"string"}},{"name":"orderDirection","required":false,"in":"query","schema":{"enum":["ASC","DESC"],"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationOutput"},{"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/SmokeSensorDto"}}}}]}}}}},"tags":["Smoke sensor"]}},"/reed-switch/add-data":{"post":{"operationId":"ReedSwitchController_addReedSwitchController","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddReedSwitchDataInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReedSwitchDto"}}}}},"tags":["Reed switch"]}},"/reed-switch/list":{"get":{"operationId":"ReedSwitchController_reedSwitchList","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"orderField","required":false,"in":"query","schema":{"enum":["sensorId","createdAt","isOpened"],"type":"string"}},{"name":"orderDirection","required":false,"in":"query","schema":{"enum":["ASC","DESC"],"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationOutput"},{"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/ReedSwitchDto"}}}}]}}}}},"tags":["Reed switch"]}},"/reed-switch/latest-data":{"get":{"operationId":"ReedSwitchController_getLatestData","parameters":[{"name":"sensorId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReedSwitchDto"}}}}},"tags":["Reed switch"]}},"/light/change-state":{"post":{"operationId":"LightController_changeLightState","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeLightStateInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LightDto"}}}}},"tags":["Light"]}},"/light/list":{"get":{"operationId":"LightController_lightList","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"orderField","required":false,"in":"query","schema":{"enum":["sensorId","createdAt","isOn"],"type":"string"}},{"name":"orderDirection","required":false,"in":"query","schema":{"enum":["ASC","DESC"],"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationOutput"},{"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/LightDto"}}}}]}}}}},"tags":["Light"]}},"/light/get-state":{"get":{"operationId":"LightController_getLightState","parameters":[{"name":"sensorId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LightDto"}}}}},"tags":["Light"]}},"/alarm/change-state":{"post":{"operationId":"AlarmController_changeAlarmState","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeAlarmStateInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlarmDto"}}}}},"tags":["Alarm"]}},"/alarm/get-state":{"get":{"operationId":"AlarmController_getAlarmState","parameters":[{"name":"sensorId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlarmDto"}}}}},"tags":["Alarm"]}},"/alarm/list":{"get":{"operationId":"AlarmController_alarmList","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"orderField","required":false,"in":"query","schema":{"enum":["sensorId","createdAt","state"],"type":"string"}},{"name":"orderDirection","required":false,"in":"query","schema":{"enum":["ASC","DESC"],"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationOutput"},{"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/AlarmDto"}}}}]}}}}},"tags":["Alarm"]}},"/room/list":{"get":{"operationId":"RoomController_reedSwitchList","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"orderField","required":false,"in":"query","schema":{"enum":["name","roomType"],"type":"string"}},{"name":"orderDirection","required":false,"in":"query","schema":{"enum":["ASC","DESC"],"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationOutput"},{"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/RoomDto"}}}}]}}}}},"tags":["Room"]}},"/room/get-by-id":{"get":{"operationId":"RoomController_getLatestData","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomDto"}}}}},"tags":["Room"]}},"/room/create-room":{"post":{"operationId":"RoomController_createRoom","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoomInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomDto"}}}}},"tags":["Room"]}},"/room/delete-room":{"post":{"operationId":"RoomController_deleteRoom","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessDto"}}}}},"tags":["Room"]}},"/room/assign-sensor-to-room":{"post":{"operationId":"RoomController_assignSensorToRoom","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomSensorInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomDto"}}}}},"tags":["Room"]}},"/room/remove-sensor-from-room":{"post":{"operationId":"RoomController_removeSensorFromRoom","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomSensorInputDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomDto"}}}}},"tags":["Room"]}},"/notifications/get-by-id":{"get":{"operationId":"NotificationController_getNotificationById","parameters":[{"name":"sensorId","required":true,"in":"query","schema":{"type":"string"}},{"name":"state","required":true,"in":"query","schema":{"enum":["off","armed","on"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationDto"}}}}},"tags":["Notifications"]}},"/notifications/list":{"get":{"operationId":"NotificationController_notificationList","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"orderField","required":false,"in":"query","schema":{"enum":["sensorId","createdAt","isActive"],"type":"string"}},{"name":"orderDirection","required":false,"in":"query","schema":{"enum":["ASC","DESC"],"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationOutput"},{"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/NotificationDto"}}}}]}}}}},"tags":["Notifications"]}}},"info":{"title":"Smarthome.Backend","description":"API Description for Smarthome.Backend","version":"1.0","contact":{}},"tags":[{"name":"","description":""}],"servers":[],"components":{"schemas":{"AddDhtSensorDataInputDto":{"type":"object","properties":{"sensorId":{"type":"string"},"temperature":{"type":"number"},"humidity":{"type":"number"}},"required":["sensorId","temperature","humidity"]},"PaginationOutput":{"type":"object","properties":{"total":{"type":"number"}},"required":["total"]},"DhtSensorDto":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"sensorId":{"type":"string"},"temperature":{"type":"number"},"humidity":{"type":"number"}},"required":["_id","createdAt","sensorId","temperature","humidity"]},"CreateSensorInputDto":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["dhtSensor","pirSensor","reedSwitch","light","mqSensor","alarm"]},"name":{"type":"string"},"location":{"type":"string"}},"required":["id","type","name","location"]},"SensorDto":{"type":"object","properties":{"_id":{"type":"string"},"type":{"type":"string","enum":["dhtSensor","pirSensor","reedSwitch","light","mqSensor","alarm"]},"name":{"type":"string"},"location":{"type":"string"}},"required":["_id","type","name","location"]},"GetSensorByIdInputDto":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"AddPirSensorDataInputDto":{"type":"object","properties":{"sensorId":{"type":"string"}},"required":["sensorId"]},"PirSensorDto":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"sensorId":{"type":"string"}},"required":["_id","createdAt","sensorId"]},"AddSmokeSensorDataInputDto":{"type":"object","properties":{"sensorId":{"type":"string"},"value":{"type":"number"}},"required":["sensorId","value"]},"SmokeSensorDto":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"sensorId":{"type":"string"},"value":{"type":"number"}},"required":["_id","createdAt","sensorId","value"]},"AddReedSwitchDataInputDto":{"type":"object","properties":{"sensorId":{"type":"string"},"isOpened":{"type":"boolean"}},"required":["sensorId","isOpened"]},"ReedSwitchDto":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"sensorId":{"type":"string"},"isOpened":{"type":"boolean"}},"required":["_id","createdAt","sensorId","isOpened"]},"ChangeLightStateInputDto":{"type":"object","properties":{"sensorId":{"type":"string"}},"required":["sensorId"]},"LightDto":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"sensorId":{"type":"string"},"isOn":{"type":"boolean"}},"required":["_id","createdAt","sensorId","isOn"]},"ChangeAlarmStateInputDto":{"type":"object","properties":{"sensorId":{"type":"string"},"state":{"type":"string","enum":["off","armed","on"]}},"required":["sensorId","state"]},"AlarmDto":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"sensorId":{"type":"string"},"state":{"type":"string","enum":["off","armed","on"]}},"required":["_id","createdAt","sensorId","state"]},"RoomDto":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"name":{"type":"string"},"roomType":{"type":"string","enum":["Living Room","Kitchen","Bedroom","Bathroom","Dining Room","Home Office","Garage","Basement","Attic","Guest Room","Hallway","Laundry Room","Pantry","Play Room","Storage Room","Gym","Home Theater","Garden","Balcony","Other"]},"description":{"type":"string"},"sensorsIds":{"type":"string"}},"required":["_id","createdAt","name","roomType","description","sensorsIds"]},"CreateRoomInputDto":{"type":"object","properties":{"name":{"type":"string"},"roomType":{"type":"object"},"description":{"type":"string"}},"required":["name","roomType","description"]},"IdInputDto":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"SuccessDto":{"type":"object","properties":{"success":{"type":"boolean"}},"required":["success"]},"RoomSensorInputDto":{"type":"object","properties":{"sensorId":{"type":"string"},"roomId":{"type":"string"}},"required":["sensorId","roomId"]},"NotificationDto":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"receiver":{"type":"string"},"sensorId":{"type":"string"}},"required":["name","message","receiver","sensorId"]}}}}